import{r as e,S as n,a as o,E as t,b as s,B as r,c as a,j as i,D as l,V as c,P as d,C as u,M as m,u as h,L as p,d as x,e as g,R as f,f as j,g as b,h as w,O as y,i as M}from"./three-vendor-BXgUwhTG.js";import"./react-vendor-DmnVtGYe.js";function B({Y:d=600,Bumper_W1:u=50,Base_W2:m=50,Base_W1:h=240,Base_L4:p=140,Base_L3:x=75.5,Base_TH1:g=3,color:f="royalblue",...j}){const b=d-2*u,w=b-2*p,{extrudeGeometry:y,frontShape:M,backShape:B,extrudeEdges:S,frontEdges:k,backEdges:P}=e.useMemo(()=>{const e=[[-m/2,b/2],[m/2,b/2],[m/2,b/2-x],[h/2,w/2],[h/2,-w/2],[m/2,-(b/2-x)],[m/2,-b/2],[-m/2,-b/2],[-m/2,-(b/2-x)],[-h/2,-w/2],[-h/2,w/2],[-m/2,b/2-x]],i=new n;i.moveTo(e[0][0],e[0][1]);for(let n=1;n<e.length;n++)i.lineTo(e[n][0],e[n][1]);i.closePath();const l=new o(i),d=new o(i),u={depth:g,bevelEnabled:!1,curveSegments:12},p=new t(i,u);p.computeVertexNormals(),p.center();const f=u.depth/2;l.translate(0,0,f),d.translate(0,0,-f);const j=2*Math.max(b,h),y=new s(new c(0,0,0),j);p.boundingSphere=y,l.boundingSphere=y,d.boundingSphere=y;const M=new c(-j,-j,-j),B=new c(j,j,j),S=new r(M,B);p.boundingBox=S,l.boundingBox=S,d.boundingBox=S;return{extrudeGeometry:p,frontShape:l,backShape:d,extrudeEdges:new a(p,30),frontEdges:new a(l),backEdges:new a(d)}},[d,u,h,m,x,p,g]);return i.jsxs("group",{...j,children:[i.jsx("mesh",{geometry:y,frustumCulled:!1,children:i.jsx("meshStandardMaterial",{color:f,side:l})}),i.jsx("mesh",{geometry:M,frustumCulled:!1,children:i.jsx("meshBasicMaterial",{color:f,side:l})}),i.jsx("mesh",{geometry:B,frustumCulled:!1,children:i.jsx("meshBasicMaterial",{color:f,side:l})}),i.jsx("lineSegments",{geometry:S,children:i.jsx("lineBasicMaterial",{color:"black",linewidth:1})}),i.jsx("lineSegments",{geometry:k,children:i.jsx("lineBasicMaterial",{color:"black",linewidth:1})}),i.jsx("lineSegments",{geometry:P,children:i.jsx("lineBasicMaterial",{color:"black",linewidth:1})})]})}function S({position:n=[0,0,0],rotation:o=[0,0,0],scale:t=1}){const s=e.useRef(),{scene:r}=h("/models/dianji.glb");return e.useEffect(()=>{if(!s.current)return;const e=r.clone();e.traverse(n=>{if(n.isMesh){n.material=new m({color:"red",side:l});const o=new a(n.geometry,30),t=new p(o,new x({color:"black",linewidth:1,polygonOffset:!0,polygonOffsetFactor:-1,polygonOffsetUnits:-1}));t.applyMatrix4(n.matrixWorld),e.add(t)}}),s.current.add(e)},[r]),i.jsx("group",{ref:s,position:n,rotation:o,scale:"number"==typeof t?[t,t,t]:t})}function k({position:e=[0,0,0],rotation:n=[0,0,0],scale:o=1}){return i.jsxs("mesh",{position:e,rotation:n,scale:o,children:[i.jsx("boxGeometry",{args:[100,40,70]}),i.jsx("meshStandardMaterial",{color:"red"}),i.jsx(g,{scale:1.01,threshold:15,color:"black"})]})}function P({position:n=[0,0,0],rotation:o=[0,0,0],scale:t=1}){const s=e.useRef(),{scene:r}=h("/models/fangzhuanglan.glb");return e.useEffect(()=>{if(!s.current)return;const e=r.clone();e.traverse(n=>{if(n.isMesh){n.material=new m({color:"orange",side:l});const o=new a(n.geometry,30),t=new p(o,new x({color:"black",linewidth:1,polygonOffset:!0,polygonOffsetFactor:-1,polygonOffsetUnits:-1}));t.applyMatrix4(n.matrixWorld),e.add(t)}}),s.current.add(e)},[r]),i.jsx("group",{ref:s,position:n,rotation:o,scale:"number"==typeof t?[t,t,t]:t})}function v({position:n=[0,0,0],rotation:o=[0,0,0],scale:t=1}){const s=e.useRef(),{scene:r}=h("/models/chasuqi.glb");return e.useEffect(()=>{if(!s.current)return;const e=r.clone();e.traverse(n=>{if(n.isMesh){n.material=new m({color:"orange",side:l});const o=new a(n.geometry,30),t=new p(o,new x({color:"black",linewidth:1,polygonOffset:!0,polygonOffsetFactor:-1,polygonOffsetUnits:-1}));t.applyMatrix4(n.matrixWorld),e.add(t)}}),s.current.add(e)},[r]),i.jsx("group",{ref:s,position:n,rotation:o,scale:"number"==typeof t?[t,t,t]:t})}function N({dangbankuandu:o=150,dangbanhoudu:s=50,depth:r=9,color:c="royalblue",edgeColor:d="black",...u}){const h=e.useMemo(()=>[[40,0],[50,15],[o/2,15],[o/2,s],[-o/2,s],[-o/2,15],[-50,15],[-40,0]],[o,s]),{extrudeGeometry:p,edgesGeometry:x}=e.useMemo(()=>{const e=new n;e.moveTo(h[0][0],h[0][1]);for(let n=1;n<h.length;n++)e.lineTo(h[n][0],h[n][1]);e.closePath();const o=new t(e,{depth:r,bevelEnabled:!1,curveSegments:12,steps:1,material:0,extrudeMaterial:1});o.computeVertexNormals();return{extrudeGeometry:o,edgesGeometry:new a(o,1)}},[h,r]),g=e.useMemo(()=>new m({color:c,side:l}),[c]),f=e.useMemo(()=>new m({color:c,side:l}),[c]);return i.jsxs("group",{...u,children:[i.jsx("mesh",{geometry:p,material:[g,f],frustumCulled:!1}),i.jsx("lineSegments",{geometry:x,children:i.jsx("lineBasicMaterial",{color:d,linewidth:1})})]})}function C({position:n=[0,0,0],rotation:o=[0,0,0],scale:t=1}){const s=e.useRef(),{scene:r}=h("/models/bizhen.glb");return e.useEffect(()=>{if(!s.current)return;const e=r.clone();e.traverse(n=>{if(n.isMesh){n.material=new m({color:"orange",side:l});const o=new a(n.geometry,30),t=new p(o,new x({color:"black",linewidth:1,polygonOffset:!0,polygonOffsetFactor:-1,polygonOffsetUnits:-1}));t.applyMatrix4(n.matrixWorld),e.add(t)}}),s.current.add(e)},[r]),i.jsx("group",{ref:s,position:n,rotation:o,scale:"number"==typeof t?[t,t,t]:t})}function I({position:n=[0,0,0],rotation:o=[0,0,0],scale:t=1}){const s=e.useRef(),{scene:r}=h("/models/lunzu1.glb");return e.useEffect(()=>{if(!s.current)return;const e=r.clone();e.traverse(n=>{if(n.isMesh){n.material=new m({color:"orange",side:l});const o=new a(n.geometry,30),t=new p(o,new x({color:"black",linewidth:1,polygonOffset:!0,polygonOffsetFactor:-1,polygonOffsetUnits:-1}));t.applyMatrix4(n.matrixWorld),e.add(t)}}),s.current.add(e)},[r]),i.jsx("group",{ref:s,position:n,rotation:o,scale:"number"==typeof t?[t,t,t]:t})}function E({position:n=[0,0,0],rotation:o=[0,0,0],scale:t=1}){const s=e.useRef(),{scene:r}=h("/models/lunzu2.glb");return e.useEffect(()=>{if(!s.current)return;const e=r.clone();e.traverse(n=>{if(n.isMesh){n.material=new m({color:"orange",side:l});const o=new a(n.geometry,30),t=new p(o,new x({color:"black",linewidth:1,polygonOffset:!0,polygonOffsetFactor:-1,polygonOffsetUnits:-1}));t.applyMatrix4(n.matrixWorld),e.add(t)}}),s.current.add(e)},[r]),i.jsx("group",{ref:s,position:n,rotation:o,scale:"number"==typeof t?[t,t,t]:t})}function _({X:u=280,Wheel_W1:m=55,Fork_W1:h=50,Fork_TH1:p=7,color:x="royalblue",...g}){const f=(u-m-m)/2+18-72,j=[[0,0],[0,6.5],[-9,6.5],[-9,33.5],[0,33.5],[0,40],[-15,40],[-15-f,35.5],[-15-f-28,35.5],[-15-f-28,29.5],[-15-f-28-23,29.5],[-15-f-28-23-6,26.5],[-15-f-28-23-6,3.5],[-15-f-28-23,0],[-15-f-28,0],[-15-f,-10],[-15,0]],b=[[-20.75-f,-1.5],[-20.75-f-16.5,-1.5],[-20.75-f-16.5,-7.5],[-20.75-f,-7.5]],w=[[-20.75-f,32.5],[-20.75-f-16.5,32.5],[-20.75-f-16.5,26.5],[-20.75-f,26.5]],y=[[-39.5-f,24.5],[-49,24.5],[-49,21],[-70,21],[-70,8],[-49,8],[-49,3.5],[-39.5-f,3.5]],{extrudeGeometry:M,frontShape:B,backShape:S,extrudeEdges:k,frontEdges:P,backEdges:v}=e.useMemo(()=>{const e=new n;e.moveTo(j[0][0],j[0][1]);for(let n=1;n<j.length;n++)e.lineTo(j[n][0],j[n][1]);e.closePath();const i=new d;i.moveTo(b[0][0],b[0][1]);for(let n=1;n<b.length;n++)i.lineTo(b[n][0],b[n][1]);i.closePath(),e.holes.push(i);const l=new d;l.moveTo(w[0][0],w[0][1]);for(let n=1;n<w.length;n++)l.lineTo(w[n][0],w[n][1]);l.closePath(),e.holes.push(l);const u=new d;u.moveTo(y[0][0],y[0][1]);for(let n=1;n<y.length;n++)u.lineTo(y[n][0],y[n][1]);u.closePath(),e.holes.push(u);const m=new t(e,{depth:p,bevelEnabled:!1,curveSegments:12});m.computeVertexNormals(),m.translate(0,0,-p/2);const h=new o(e),x=new o(e),g=p/2;h.translate(0,0,g),x.translate(0,0,-g);const f=2*Math.max(...j.flat().map(e=>Math.abs(e)),...b.flat().map(e=>Math.abs(e))),M=new s(new c(0,0,0),f);m.boundingSphere=M,h.boundingSphere=M,x.boundingSphere=M;const B=new c(-f,-f,-g-1),S=new c(f,f,g+1),k=new r(B,S);m.boundingBox=k,h.boundingBox=k,x.boundingBox=k;return{extrudeGeometry:m,frontShape:h,backShape:x,extrudeEdges:new a(m,30),frontEdges:new a(h),backEdges:new a(x)}},[u,m,h,p,f,j,b,w,y]);return i.jsxs("group",{...g,children:[i.jsx("mesh",{geometry:M,frustumCulled:!1,children:i.jsx("meshStandardMaterial",{color:x,side:l})}),i.jsx("mesh",{geometry:B,frustumCulled:!1,children:i.jsx("meshBasicMaterial",{color:x,side:l})}),i.jsx("mesh",{geometry:S,frustumCulled:!1,children:i.jsx("meshBasicMaterial",{color:x,side:l})}),i.jsx("lineSegments",{geometry:k,children:i.jsx("lineBasicMaterial",{color:"black",linewidth:1})}),i.jsx("lineSegments",{geometry:P,children:i.jsx("lineBasicMaterial",{color:"black",linewidth:1})}),i.jsx("lineSegments",{geometry:v,children:i.jsx("lineBasicMaterial",{color:"black",linewidth:1})})]})}function R({X:d=280,Wheel_W1:u=55,color:m="royalblue",Bracket_H1:h=60,Bracket_W5:p=24,Bracket_H6:x=16.4,Bracket_TH1:g=17.5,...f}){const j=50+2*((d-u-u)/2+18-75),b=[[0,-15],[-15,-15],[-19,0],[-j/2,0],[-j/2,-12],[-j/2+13,-h],[-p/2,-h],[-p/2,-h+x],[p/2,-h+x],[p/2,-h],[j/2-13,-h],[j/2,-12],[j/2,0],[19,0],[15,-15]],{extrudeGeometry:w,frontShape:y,backShape:M,extrudeEdges:B,frontEdges:S,backEdges:k}=e.useMemo(()=>{const e=new n;e.moveTo(b[0][0],b[0][1]);for(let n=1;n<b.length;n++)e.lineTo(b[n][0],b[n][1]);e.closePath();const i=new o(e),l=new o(e),d={depth:g,bevelEnabled:!1,curveSegments:12},u=new t(e,d);u.computeVertexNormals(),u.center();const m=d.depth/2;i.translate(0,30,m),l.translate(0,30,-m);const h=2*Math.max(j,p),x=new s(new c(0,0,0),h);u.boundingSphere=x,i.boundingSphere=x,l.boundingSphere=x;const f=new c(-h,-h,-h),w=new c(h,h,h),y=new r(f,w);u.boundingBox=y,i.boundingBox=y,l.boundingBox=y;return{extrudeGeometry:u,frontShape:i,backShape:l,extrudeEdges:new a(u,30),frontEdges:new a(i),backEdges:new a(l)}},[d,u,h,p,x,g,b]);return i.jsxs("group",{...f,children:[i.jsx("mesh",{geometry:w,frustumCulled:!1,children:i.jsx("meshStandardMaterial",{color:m,side:l})}),i.jsx("mesh",{geometry:y,frustumCulled:!1,children:i.jsx("meshBasicMaterial",{color:m,side:l})}),i.jsx("mesh",{geometry:M,frustumCulled:!1,children:i.jsx("meshBasicMaterial",{color:m,side:l})}),i.jsx("lineSegments",{geometry:B,children:i.jsx("lineBasicMaterial",{color:"black",linewidth:1})}),i.jsx("lineSegments",{geometry:S,children:i.jsx("lineBasicMaterial",{color:"black",linewidth:1})}),i.jsx("lineSegments",{geometry:k,children:i.jsx("lineBasicMaterial",{color:"black",linewidth:1})})]})}function W({position:n=[0,0,0],rotation:o=[0,0,0],scale:t=1}){const s=e.useRef(),{scene:r}=h("/models/zhuanxiang.glb");return e.useEffect(()=>{if(!s.current)return;const e=r.clone();e.traverse(n=>{if(n.isMesh){n.material=new m({color:"red",side:l});const o=new a(n.geometry,30),t=new p(o,new x({color:"black",linewidth:1,polygonOffset:!0,polygonOffsetFactor:-1,polygonOffsetUnits:-1}));t.applyMatrix4(n.matrixWorld),e.add(t)}}),s.current.add(e)},[r]),i.jsx("group",{ref:s,position:n,rotation:o,scale:"number"==typeof t?[t,t,t]:t})}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&n(e)}).observe(document,{childList:!0,subtree:!0})}function n(e){if(e.ep)return;e.ep=!0;const n=function(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?n.credentials="include":"anonymous"===e.crossOrigin?n.credentials="omit":n.credentials="same-origin",n}(e);fetch(e.href,n)}}(),h.preload("/models/dianji.glb"),h.preload("/models/fangzhuanglan.glb"),h.preload("/models/chasuqi.glb"),h.preload("/models/bizhen.glb"),h.preload("/models/lunzu1.glb"),h.preload("/models/lunzu2.glb"),h.preload("/models/zhuanxiang.glb");const O=e.createContext({selectedComponent:null,setSelectedComponent:()=>{}}),L=function({outerRadius:o=50,innerRadius:s=35,depth:r=55,hubDepth:a=3,...l}){const c=e.useMemo(()=>{const e=new n;e.absarc(0,0,o,0,2*Math.PI,!1);const a=new d;a.absarc(0,0,s,0,2*Math.PI,!0),e.holes.push(a);const i=new t(e,{steps:2,depth:r,bevelEnabled:!1});return i.center(),i},[o,s,r]),h=e.useMemo(()=>{const e=new u(s,s,a,32);return e.rotateX(Math.PI/2),e},[s,a]),p=e.useMemo(()=>new m({color:4473924,roughness:.8,metalness:.2}),[]),x=e.useMemo(()=>new m({color:16753920,roughness:.5,metalness:.5}),[]);return i.jsxs("group",{...l,children:[i.jsx("mesh",{geometry:c,material:p,name:"tireRing"}),i.jsx("mesh",{geometry:h,material:x,name:"tireHub"})]})},T=({children:n,componentName:o,position:t,rotation:s,scale:r})=>{const{selectedComponent:a,setSelectedComponent:l}=e.useContext(O),c=e.useRef(null),[d,u]=f.useState(!1);j(d,"pointer");const m=!a||a===o;return e.useEffect(()=>{if(c.current){const e=n=>{void 0!==n.visible&&(n.visible=m),n.children&&n.children.forEach(e)};e(c.current)}},[m]),i.jsx("group",{position:t,rotation:s,scale:r,ref:c,children:i.jsx("group",{onClick:e=>{e.stopPropagation(),a===o?l(null):(l(o),window.dispatchEvent(new CustomEvent("componentClicked",{detail:{componentName:o}})))},onPointerOver:e=>{e.stopPropagation(),u(!0)},onPointerOut:()=>{u(!1)},children:n})})},X=({componentName:e,onClose:n})=>{if(!e)return null;const o=()=>{n()};return i.jsxs("div",{style:{position:"fixed",top:0,right:0,width:"25vw",height:"100vh",backgroundColor:"white",zIndex:9999,color:"black",fontSize:"16px",textAlign:"left",transform:"translateX(100%)",animation:"slideInFromRight 0.3s ease-out forwards"},onClick:o,children:[i.jsx("style",{children:"\n          @keyframes slideInFromRight {\n            from {\n              transform: translateX(100%);\n            }\n            to {\n              transform: translateX(0);\n            }\n          }\n        "}),i.jsxs("div",{className:"modal-content",style:{height:"100%",padding:"20px",overflow:"auto",backgroundColor:"#f9fafb",borderLeft:"1px solid #e5e7eb"},onClick:e=>e.stopPropagation(),children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[i.jsx("h2",{style:{margin:0,color:"#3b82f6",fontSize:"18px"},children:"组件信息"}),i.jsx("button",{style:{padding:"5px 10px",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"},onClick:o,children:"×"})]}),i.jsxs("p",{children:["您点击的组件是：",i.jsx("strong",{children:e})]}),i.jsxs("div",{style:{marginTop:"15px"},children:[i.jsx("h3",{style:{color:"#4b5563",borderBottom:"1px solid #e5e7eb",paddingBottom:"8px",fontSize:"16px"},children:"组件详情"}),i.jsx("p",{children:"这是一个教育小车的重要组成部分。"}),i.jsx("p",{children:"该组件在小车的运行中起到关键作用。"})]})]})]})};function z({selectedComponent:n,setSelectedComponent:o,...t}){const{Y:s,Base_W1:r,X:a,Base_L5:l,outerRadius:c,innerRadius:d,depth:u,dangbankuandu:m,dangbanhoudu:h,Bumper_W1:p,Base_W2:x,Base_L4:g,Base_L3:f,Base_TH1:j}=t,b=e.useMemo(()=>({front:[0,-43,-189-(s-600)/2],back:[0,-43,189+(s-600)/2]}),[s]);return i.jsx(O.Provider,{value:{selectedComponent:n,setSelectedComponent:o},children:i.jsxs("group",{children:[i.jsx(T,{componentName:"底座",children:i.jsx(B,{rotation:[Math.PI/2,0,0],Y:s,Bumper_W1:p,Base_W2:x,Base_W1:r,Base_L4:g,Base_L3:f,Base_TH1:j})}),i.jsx(T,{componentName:"电源",position:[0,25,0],rotation:[0,0,0],scale:1,children:i.jsx(k,{})}),i.jsx(T,{componentName:"前差速器",position:b.front,rotation:[-Math.PI/2,0,0],scale:10,children:i.jsx(v,{})}),i.jsx(T,{componentName:"后差速器",position:b.back,rotation:[Math.PI/2,Math.PI,0],scale:10,children:i.jsx(v,{})}),i.jsx(T,{componentName:"前方挡板",position:[0,5,240+(s-600)/2],rotation:[Math.PI/2,0,0],scale:1,children:i.jsx(N,{dangbankuandu:m,dangbanhoudu:h})}),i.jsx(T,{componentName:"后方挡板",position:[0,5,-240-(s-600)/2],rotation:[Math.PI/2,0,Math.PI],scale:1,children:i.jsx(N,{dangbankuandu:m,dangbanhoudu:h})}),i.jsx(T,{componentName:"前电机",position:[0,2,185-l+(s-600)/2],rotation:[0,0,0],scale:10,children:i.jsx(S,{})}),i.jsx(T,{componentName:"后电机",position:[0,2,l-185-(s-600)/2],rotation:[0,Math.PI,0],scale:10,children:i.jsx(S,{})}),i.jsx(T,{componentName:"右前轴承",position:[(a-280)/2+5,0,-(s-600)/2],rotation:[0,Math.PI,0],scale:10,children:i.jsx(C,{})}),i.jsx(T,{componentName:"左前轴承",position:[-5-(a-280)/2,0,-426-(s-600)/2],rotation:[0,0,0],scale:10,children:i.jsx(C,{})}),i.jsx(T,{componentName:"左后轴承",position:[-(a-280)/2,0,(s-600)/2],rotation:[Math.PI,Math.PI,Math.PI],scale:10,children:i.jsx(C,{})}),i.jsx(T,{componentName:"右后轴承",position:[(a-280)/2+5,0,426+(s-600)/2],rotation:[0,Math.PI,0],scale:10,children:i.jsx(C,{})}),i.jsx(T,{componentName:"左前轮组",position:[-167-(a-280)/2,115,117-(s-600)/2],rotation:[0,Math.PI,0],scale:10,children:i.jsx(I,{})}),i.jsx(T,{componentName:"左前轮胎",position:[-137-(a-280)/2,26,-211-(s-600)/2],rotation:[0,Math.PI/2,Math.PI/2],scale:1,children:i.jsx(L,{outerRadius:c,innerRadius:d,depth:u})}),i.jsx(T,{componentName:"右前轮组",position:[167+(a-280)/2,115,(s-600)/2-117],rotation:[0,0,0],scale:10,children:i.jsx(I,{})}),i.jsx(T,{componentName:"右前轮胎",position:[137+(a-280)/2,26,-211-(s-600)/2],rotation:[0,Math.PI/2,Math.PI/2],scale:1,children:i.jsx(L,{outerRadius:c,innerRadius:d,depth:u})}),i.jsx(T,{componentName:"左后轮胎",position:[-137-(a-280)/2,26,211+(s-600)/2],rotation:[0,Math.PI/2,Math.PI/2],scale:1,children:i.jsx(L,{outerRadius:c,innerRadius:d,depth:u})}),i.jsx(T,{componentName:"右后轮组",position:[167+(a-280)/2,115,117-(s-600)/2],rotation:[0,0,0],scale:10,children:i.jsx(E,{})}),i.jsx(T,{componentName:"左后轮组",position:[-167-(a-280)/2,115,(s-600)/2-117],rotation:[0,Math.PI,0],scale:10,children:i.jsx(E,{})}),i.jsx(T,{componentName:"右后轮胎",position:[137+(a-280)/2,26,211+(s-600)/2],rotation:[0,Math.PI/2,Math.PI/2],scale:1,children:i.jsx(L,{outerRadius:c,innerRadius:d,depth:u})}),i.jsx(T,{componentName:"左前叉臂",position:[-20,7,-226-(s-600)/2],rotation:[Math.PI/2,0,0],X:a,children:i.jsx(_,{X:a})}),i.jsx(T,{componentName:"右前叉臂",position:[20,7,-226-(s-600)/2],rotation:[Math.PI/2,Math.PI,0],X:a,children:i.jsx(_,{X:a})}),i.jsx(T,{componentName:"右后叉臂",position:[20,7,226+(s-600)/2],rotation:[Math.PI/2,0,Math.PI],X:a,children:i.jsx(_,{X:a})}),i.jsx(T,{componentName:"左后叉臂",position:[-20,7,226+(s-600)/2],rotation:[Math.PI/2,-Math.PI,-Math.PI],X:a,children:i.jsx(_,{X:a})}),i.jsx(T,{componentName:"前支架",position:[0,63,-212-(s-600)/2],rotation:[0,0,0],X:a,scale:1,children:i.jsx(R,{X:a})}),i.jsx(T,{componentName:"后支架",position:[0,63,212+(s-600)/2],rotation:[Math.PI,0,Math.PI],X:a,scale:1,children:i.jsx(R,{X:a})}),i.jsx(T,{componentName:"后转向机构",position:[0,-75,105+(s-600)/2],rotation:[0,0,0],scale:10,children:i.jsx(W,{})}),i.jsx(T,{componentName:"前转向机构",position:[0,-75,-105-(s-600)/2],rotation:[0,Math.PI,0],scale:10,children:i.jsx(W,{})}),i.jsx(T,{componentName:"方柱栏",position:[0,Math.max(h/2+5,15),.28*s],scale:.9,children:i.jsx(P,{})})]})})}const F={Y:550,Base_W1:260,X:300,Base_L5:68,outerRadius:50,innerRadius:35,depth:55,dangbankuandu:150,dangbanhoudu:50,weight:5,motorPower:500,batteryCapacity:5e3,Bumper_W1:50,Base_W2:50,Base_L4:140,Base_L3:75.5,Base_TH1:3};function G({params:n,selectedComponent:o,setSelectedComponent:t}){return i.jsxs(b,{shadows:!0,camera:{position:[250,220,600],fov:65,near:.1,far:2e3},className:"canvas-stage-full",children:[i.jsx("ambientLight",{intensity:.6}),i.jsx("directionalLight",{position:[400,500,200],intensity:1.2,castShadow:!0,"shadow-mapSize-width":2048,"shadow-mapSize-height":2048}),i.jsxs(e.Suspense,{fallback:null,children:[i.jsxs("group",{position:[0,0,0],children:[i.jsx(z,{...n,selectedComponent:o,setSelectedComponent:t}),i.jsxs("mesh",{rotation:[-Math.PI/2,0,0],position:[0,-90,0],receiveShadow:!0,children:[i.jsx("planeGeometry",{args:[3e3,3e3]}),i.jsx("meshStandardMaterial",{color:"#0f172a"})]})]}),i.jsx(w,{preset:"city"})]}),i.jsx(y,{enableDamping:!0,dampingFactor:.12,minDistance:300,maxDistance:1500,target:[0,40,0]})]})}function H(){const[n,o]=e.useState(F),[t,s]=e.useState(null);f.useEffect(()=>{const e=e=>{s(e.detail.componentName)};return window.addEventListener("componentClicked",e),()=>{window.removeEventListener("componentClicked",e)}},[]);const r=e.useMemo(()=>{const e={...n},o=e.outerRadius-2;var t,s,r;e.innerRadius>=o&&(e.innerRadius=(t=o,s=10,r=e.innerRadius,Math.min(Math.max(t,s),r)));const a=(e.Y-2*e.Bumper_W1)/2-5;a>0&&e.Base_L4>a&&(e.Base_L4=Number(a.toFixed(2)));const i=e.Y/2-e.Base_L4-5;return i>0&&e.Bumper_W1>i&&(e.Bumper_W1=Number(i.toFixed(2))),e},[n]);return i.jsxs("div",{className:"app-shell-full",children:[i.jsxs("div",{className:"canvas-wrap-center",children:[i.jsx("div",{className:"canvas-overlay",children:i.jsx("button",{className:"button",onClick:()=>o(F),children:"重置参数"})}),i.jsx(G,{params:r,selectedComponent:t,setSelectedComponent:s})]}),i.jsx(X,{componentName:t,onClose:()=>s(null)})]})}const U=document.getElementById("root");if(!U)throw new Error("Root container not found");M.createRoot(U).render(i.jsx(f.StrictMode,{children:i.jsx(H,{})}));
//# sourceMappingURL=index-BoMdjXO8.js.map
